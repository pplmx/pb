syntax = "proto3";

package dist.v1;

option go_package = "github.com/pplmx/pb/dist/v1;distv1";

// 分布式服务
service DistService {
  rpc WatchDist(WatchDistRequest) returns (stream WatchDistResponse) {}
}

// 任务定义
message Task {
  string id = 1;
  string name = 2;
  string type = 3;
}

// 监听分布式任务事件
message WatchDistRequest {
  string node_id = 1;
}

message WatchDistResponse {
  oneof event {
    ScheduleTaskEvent task = 1;
  }
}

// 任务事件
message ScheduleTaskEvent {
  Task task = 1;
}
